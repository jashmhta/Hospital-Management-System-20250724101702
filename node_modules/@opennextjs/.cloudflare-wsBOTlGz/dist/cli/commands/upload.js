import { getWranglerEnvironmentFlag, runWrangler } from "../utils/run-wrangler.js";
import { populateCache } from "./populate-cache.js";
export async function upload(options, config, uploadOptions) {
    await populateCache(options, config, {
        target: "remote",
        environment: getWranglerEnvironmentFlag(uploadOptions.passthroughArgs),
        cacheChunkSize: uploadOptions.cacheChunkSize,
    });
    runWrangler(options, ["versions upload", ...uploadOptions.passthroughArgs], { logging: "all" });
}
