import { getWranglerEnvironmentFlag, runWrangler } from "../utils/run-wrangler.js";
import { populateCache } from "./populate-cache.js";
export async function deploy(options, config, deployOptions) {
    await populateCache(options, config, {
        target: "remote",
        environment: getWranglerEnvironmentFlag(deployOptions.passthroughArgs),
        cacheChunkSize: deployOptions.cacheChunkSize,
    });
    runWrangler(options, ["deploy", ...deployOptions.passthroughArgs], { logging: "all" });
}
