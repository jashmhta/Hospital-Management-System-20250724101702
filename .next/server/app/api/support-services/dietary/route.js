(()=>{var e={};e.id=4201,e.ids=[4201],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33159:()=>{},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73285:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>_,routeModule:()=>f,serverHooks:()=>R,workAsyncStorage:()=>w,workUnitAsyncStorage:()=>U});var i={};r.r(i),r.d(i,{DELETE:()=>O,DELIVER:()=>T,GET:()=>E,GET_ANALYTICS:()=>g,GET_BY_ID:()=>D,GET_MENUS:()=>N,PATCH:()=>m,POST:()=>p,PREPARE:()=>y});var n=r(2179),a=r(20540),o=r(57395),s=r(8306),d=r(72482);!function(){var e=Error("Cannot find module '@/lib/middleware/error-handling.middleware'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/lib/security.service'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/lib/services/support-services/dietary/dietary.service'");throw e.code="MODULE_NOT_FOUND",e}();let u=Object(function(){var e=Error("Cannot find module '@/lib/services/support-services/dietary/dietary.service'");throw e.code="MODULE_NOT_FOUND",e}())(),c=d.z.object({patientId:d.z.string().uuid(),mealType:d.z.enum(["BREAKFAST","LUNCH","DINNER","SNACK"]),dietType:d.z.enum(["REGULAR","VEGETARIAN","VEGAN","GLUTEN_FREE","DIABETIC","LOW_SODIUM","LIQUID","SOFT","CUSTOM"]),customDietDetails:d.z.string().max(500).optional(),allergies:d.z.array(d.z.string()).optional(),preferences:d.z.array(d.z.string()).optional(),scheduledTime:d.z.string().transform(e=>new Date(e)),notes:d.z.string().max(1e3).optional(),requestedById:d.z.string().uuid(),locationId:d.z.string().uuid()}),l=d.z.object({mealType:d.z.enum(["BREAKFAST","LUNCH","DINNER","SNACK"]).optional(),dietType:d.z.enum(["REGULAR","VEGETARIAN","VEGAN","GLUTEN_FREE","DIABETIC","LOW_SODIUM","LIQUID","SOFT","CUSTOM"]).optional(),customDietDetails:d.z.string().max(500).optional(),allergies:d.z.array(d.z.string()).optional(),preferences:d.z.array(d.z.string()).optional(),scheduledTime:d.z.string().transform(e=>new Date(e)).optional(),notes:d.z.string().max(1e3).optional(),status:d.z.enum(["PENDING","PREPARING","READY","DELIVERED","COMPLETED","CANCELLED"]).optional(),locationId:d.z.string().uuid().optional()});async function E(e){return Object(function(){var e=Error("Cannot find module '@/lib/middleware/error-handling.middleware'");throw e.code="MODULE_NOT_FOUND",e}())(e,async e=>{let t=e.nextUrl.searchParams,r={status:t.get("status")||void 0,patientId:t.get("patientId")||void 0,mealType:t.get("mealType")||void 0,dietType:t.get("dietType")||void 0,fromDate:t.get("fromDate")?new Date(t.get("fromDate")):void 0,toDate:t.get("toDate")?new Date(t.get("toDate")):void 0,locationId:t.get("locationId")||void 0,page:parseInt(t.get("page")||"1"),limit:parseInt(t.get("limit")||"10")},i=await u.getDietaryRequests(r);return s.NextResponse.json(i)},{requiredPermission:"dietary:read",auditAction:"DIETARY_REQUESTS_VIEW"})}async function p(e){return Object(function(){var e=Error("Cannot find module '@/lib/middleware/error-handling.middleware'");throw e.code="MODULE_NOT_FOUND",e}())(e,async e=>{let t=await e.json(),r=c.parse(t),i=Object(function(){var e=Error("Cannot find module '@/lib/security.service'");throw e.code="MODULE_NOT_FOUND",e}()).sanitizeObject(r),n=await u.createDietaryRequest(i);return s.NextResponse.json(n,{status:201})},{requiredPermission:"dietary:create",auditAction:"DIETARY_REQUEST_CREATE"})}async function D(e,{params:t}){return Object(function(){var e=Error("Cannot find module '@/lib/middleware/error-handling.middleware'");throw e.code="MODULE_NOT_FOUND",e}())(e,async e=>{let r="true"===e.nextUrl.searchParams.get("fhir"),i=await u.getDietaryRequestById(t.id,r);return s.NextResponse.json(i)},{requiredPermission:"dietary:read",auditAction:"DIETARY_REQUEST_VIEW"})}async function m(e,{params:t}){return Object(function(){var e=Error("Cannot find module '@/lib/middleware/error-handling.middleware'");throw e.code="MODULE_NOT_FOUND",e}())(e,async e=>{let r=await e.json(),i=l.parse(r),n=Object(function(){var e=Error("Cannot find module '@/lib/security.service'");throw e.code="MODULE_NOT_FOUND",e}()).sanitizeObject(i),a=await u.updateDietaryRequest(t.id,n);return s.NextResponse.json(a)},{requiredPermission:"dietary:update",auditAction:"DIETARY_REQUEST_UPDATE"})}async function O(e,{params:t}){return Object(function(){var e=Error("Cannot find module '@/lib/middleware/error-handling.middleware'");throw e.code="MODULE_NOT_FOUND",e}())(e,async e=>(await u.deleteDietaryRequest(t.id),s.NextResponse.json({success:!0})),{requiredPermission:"dietary:delete",auditAction:"DIETARY_REQUEST_DELETE"})}async function y(e,{params:t}){return Object(function(){var e=Error("Cannot find module '@/lib/middleware/error-handling.middleware'");throw e.code="MODULE_NOT_FOUND",e}())(e,async e=>{let{staffId:r,notes:i}=await e.json();if(!r)return s.NextResponse.json({error:"Staff ID is required"},{status:400});let n=await u.prepareDietaryRequest(t.id,r,Object(function(){var e=Error("Cannot find module '@/lib/security.service'");throw e.code="MODULE_NOT_FOUND",e}()).sanitizeInput(i||""));return s.NextResponse.json(n)},{requiredPermission:"dietary:update",auditAction:"DIETARY_REQUEST_PREPARE"})}async function T(e,{params:t}){return Object(function(){var e=Error("Cannot find module '@/lib/middleware/error-handling.middleware'");throw e.code="MODULE_NOT_FOUND",e}())(e,async e=>{let{staffId:r,notes:i}=await e.json();if(!r)return s.NextResponse.json({error:"Staff ID is required"},{status:400});let n=await u.deliverDietaryRequest(t.id,r,Object(function(){var e=Error("Cannot find module '@/lib/security.service'");throw e.code="MODULE_NOT_FOUND",e}()).sanitizeInput(i||""));return s.NextResponse.json(n)},{requiredPermission:"dietary:update",auditAction:"DIETARY_REQUEST_DELIVER"})}async function N(e){return Object(function(){var e=Error("Cannot find module '@/lib/middleware/error-handling.middleware'");throw e.code="MODULE_NOT_FOUND",e}())(e,async e=>{let t=e.nextUrl.searchParams,r={dietType:t.get("dietType")||void 0,mealType:t.get("mealType")||void 0,isActive:"true"===t.get("isActive"),page:parseInt(t.get("page")||"1"),limit:parseInt(t.get("limit")||"10")},i=await u.getDietaryMenus(r);return s.NextResponse.json(i)},{requiredPermission:"dietary:read",auditAction:"DIETARY_MENUS_VIEW"})}async function g(e){return Object(function(){var e=Error("Cannot find module '@/lib/middleware/error-handling.middleware'");throw e.code="MODULE_NOT_FOUND",e}())(e,async e=>{let t=e.nextUrl.searchParams,r=t.get("fromDate")?new Date(t.get("fromDate")):void 0,i=t.get("toDate")?new Date(t.get("toDate")):void 0,n=await u.getDietaryAnalytics(r,i);return s.NextResponse.json(n)},{requiredPermission:"dietary:analytics",auditAction:"DIETARY_ANALYTICS_VIEW"})}let f=new n.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/support-services/dietary/route",pathname:"/api/support-services/dietary",filename:"route",bundlePath:"app/api/support-services/dietary/route"},resolvedPagePath:"/workspace/Hospital-Management-System/src/app/api/support-services/dietary/route.ts",nextConfigOutput:"",userland:i}),{workAsyncStorage:w,workUnitAsyncStorage:U,serverHooks:R}=f;function _(){return(0,o.patchFetch)({workAsyncStorage:w,workUnitAsyncStorage:U})}},73327:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[7395,6088,2482],()=>r(73285));module.exports=i})();