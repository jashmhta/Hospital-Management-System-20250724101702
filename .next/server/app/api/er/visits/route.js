(()=>{var e={};e.id=5982,e.ids=[5982],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33159:()=>{},39406:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>h,routeModule:()=>m,serverHooks:()=>w,workAsyncStorage:()=>v,workUnitAsyncStorage:()=>g});var i={};r.r(i),r.d(i,{GET:()=>l,POST:()=>_});var a=r(2179),n=r(20540),s=r(57395),o=r(8306);let d=[{id:1,patient_id:101,patient_name:"John Doe",mrn:"MRN001",arrival_timestamp:new Date(Date.now()-108e5).toISOString(),chief_complaint:"Chest pain",mode_of_arrival:"Ambulance",triage_level:2,current_status:"Pending Triage",current_location:"Waiting Room",assigned_physician_id:void 0,assigned_nurse_id:void 0,disposition:void 0,discharge_timestamp:void 0,created_at:new Date(Date.now()-108e5).toISOString(),updated_at:new Date(Date.now()-108e5).toISOString()},{id:2,patient_id:102,patient_name:"Jane Smith",mrn:"MRN002",arrival_timestamp:new Date(Date.now()-36e5).toISOString(),chief_complaint:"Shortness of breath",mode_of_arrival:"Walk-in",triage_level:3,current_status:"Under Assessment",current_location:"Triage Room 1",assigned_physician_id:201,assigned_nurse_id:301,disposition:void 0,discharge_timestamp:void 0,created_at:new Date(Date.now()-36e5).toISOString(),updated_at:new Date(Date.now()-18e5).toISOString()}],c=3;async function p(e={}){let t=[...d];return e.status&&(t=t.filter(t=>t.current_status?.toLowerCase()===e.status.toLowerCase())),e.location&&(t=t.filter(t=>t.current_location?.toLowerCase()===e.location.toLowerCase())),t.sort((e,t)=>new Date(t.arrival_timestamp).getTime()-new Date(e.arrival_timestamp).getTime())}async function u(e){let t=new Date().toISOString(),r={id:c++,patient_id:e.patient_id,patient_name:`Patient ${e.patient_id}`,mrn:`MRN${String(e.patient_id).padStart(3,"0")}`,arrival_timestamp:e.arrival_timestamp||t,chief_complaint:e.chief_complaint,mode_of_arrival:e.mode_of_arrival||"Unknown",triage_level:void 0,current_status:"Pending Triage",current_location:"Waiting Room",assigned_physician_id:void 0,assigned_nurse_id:void 0,disposition:void 0,discharge_timestamp:void 0,created_at:t,updated_at:t};return d.push(r),r}async function l(e){try{let{searchParams:t}=new URL(e.url),r={status:t.get("status")??void 0,location:t.get("location")??void 0,date:t.get("date")??void 0},i=await p(r);return o.NextResponse.json({visits:i})}catch(t){console.error("Error fetching ER visits:",t);let e="An unknown error occurred";return t instanceof Error&&(e=t.message),o.NextResponse.json({error:"Failed to fetch ER visits",details:e},{status:500})}}async function _(e){try{let t=await e.json();if(!t.patient_id||!t.chief_complaint)return o.NextResponse.json({error:"Missing required fields (patient_id, chief_complaint)"},{status:400});let r=await u(t);return o.NextResponse.json({visit:r},{status:201})}catch(t){console.error("Error creating ER visit:",t);let e="An unknown error occurred";return t instanceof Error&&(e=t.message),o.NextResponse.json({error:"Failed to create ER visit",details:e},{status:500})}}let m=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/er/visits/route",pathname:"/api/er/visits",filename:"route",bundlePath:"app/api/er/visits/route"},resolvedPagePath:"/workspace/Hospital-Management-System/src/app/api/er/visits/route.ts",nextConfigOutput:"",userland:i}),{workAsyncStorage:v,workUnitAsyncStorage:g,serverHooks:w}=m;function h(){return(0,s.patchFetch)({workAsyncStorage:v,workUnitAsyncStorage:g})}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73327:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[7395,6088],()=>r(39406));module.exports=i})();