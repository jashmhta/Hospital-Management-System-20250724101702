(()=>{var e={};e.id=406,e.ids=[406],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33159:()=>{},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66640:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>m,routeModule:()=>u,serverHooks:()=>h,workAsyncStorage:()=>y,workUnitAsyncStorage:()=>l});var n={};r.r(n),r.d(n,{GET:()=>p,OPTIONS:()=>d,POST:()=>c});var o=r(2179),a=r(20540),s=r(57395),i=r(8306);async function c(e){try{let t=await e.json();if(!t||"Bundle"!==t.resourceType)return i.NextResponse.json({resourceType:"OperationOutcome",issue:[{severity:"error",code:"invalid",diagnostics:"Request must be a FHIR Bundle resource"}]},{status:400,headers:{"Content-Type":"application/fhir+json"}});if(!["batch","transaction"].includes(t.type))return i.NextResponse.json({resourceType:"OperationOutcome",issue:[{severity:"error",code:"invalid",diagnostics:'Bundle type must be "batch" or "transaction"'}]},{status:400,headers:{"Content-Type":"application/fhir+json"}});let r=await Object(function(){var e=Error("Cannot find module '@/lib/fhir/fhir.service'");throw e.code="MODULE_NOT_FOUND",e}()).processBatch(t);if(!r.success)return i.NextResponse.json(r.issues||{error:r.error},{status:400,headers:{"Content-Type":"application/fhir+json"}});return i.NextResponse.json(r.data,{headers:{"Content-Type":"application/fhir+json"}})}catch(e){return console.error("FHIR Bundle processing error:",e),i.NextResponse.json({resourceType:"OperationOutcome",issue:[{severity:"error",code:"exception",diagnostics:e instanceof Error?e.message:"Internal server error"}]},{status:500,headers:{"Content-Type":"application/fhir+json"}})}}async function p(){try{let e={resourceType:"CapabilityStatement",id:"hms-fhir-server",status:"active",date:new Date().toISOString(),publisher:"Hospital Management System",kind:"instance",software:{name:"HMS FHIR Server",version:"1.0.0"},implementation:{description:"Hospital Management System FHIR R4 Server",url:"/fhir/r4"},fhirVersion:"4.0.1",format:["application/fhir+json","application/json"],rest:[{mode:"server",security:{cors:!0,service:[{coding:[{system:"http://terminology.hl7.org/CodeSystem/restful-security-service",code:"OAuth",display:"OAuth"}]}]},resource:[{type:"Patient",profile:"http://hl7.org/fhir/StructureDefinition/Patient",interaction:[{code:"read"},{code:"create"},{code:"update"},{code:"delete"},{code:"search-type"}],searchParam:[{name:"identifier",type:"token"},{name:"name",type:"string"},{name:"family",type:"string"},{name:"given",type:"string"},{name:"phone",type:"token"},{name:"email",type:"token"},{name:"birthdate",type:"date"},{name:"gender",type:"token"},{name:"active",type:"token"}]},{type:"Appointment",profile:"http://hl7.org/fhir/StructureDefinition/Appointment",interaction:[{code:"read"},{code:"create"},{code:"update"},{code:"delete"},{code:"search-type"}],searchParam:[{name:"patient",type:"reference"},{name:"practitioner",type:"reference"},{name:"date",type:"date"},{name:"status",type:"token"},{name:"service-type",type:"token"}]},{type:"Encounter",profile:"http://hl7.org/fhir/StructureDefinition/Encounter",interaction:[{code:"read"},{code:"create"},{code:"update"},{code:"delete"},{code:"search-type"}],searchParam:[{name:"patient",type:"reference"},{name:"practitioner",type:"reference"},{name:"date",type:"date"},{name:"status",type:"token"},{name:"class",type:"token"}]},{type:"MedicationRequest",profile:"http://hl7.org/fhir/StructureDefinition/MedicationRequest",interaction:[{code:"read"},{code:"create"},{code:"update"},{code:"delete"},{code:"search-type"}],searchParam:[{name:"patient",type:"reference"},{name:"requester",type:"reference"},{name:"status",type:"token"},{name:"intent",type:"token"},{name:"medication",type:"reference"}]},{type:"Observation",profile:"http://hl7.org/fhir/StructureDefinition/Observation",interaction:[{code:"read"},{code:"create"},{code:"update"},{code:"delete"},{code:"search-type"}],searchParam:[{name:"patient",type:"reference"},{name:"category",type:"token"},{name:"code",type:"token"},{name:"date",type:"date"},{name:"status",type:"token"}]},{type:"DiagnosticReport",profile:"http://hl7.org/fhir/StructureDefinition/DiagnosticReport",interaction:[{code:"read"},{code:"create"},{code:"update"},{code:"delete"},{code:"search-type"}],searchParam:[{name:"patient",type:"reference"},{name:"category",type:"token"},{name:"code",type:"token"},{name:"date",type:"date"},{name:"status",type:"token"}]}],interaction:[{code:"batch"},{code:"transaction"},{code:"search-system"}]}]};return i.NextResponse.json(e,{headers:{"Content-Type":"application/fhir+json"}})}catch(e){return console.error("FHIR Capability Statement error:",e),i.NextResponse.json({resourceType:"OperationOutcome",issue:[{severity:"error",code:"exception",diagnostics:e instanceof Error?e.message:"Internal server error"}]},{status:500,headers:{"Content-Type":"application/fhir+json"}})}}async function d(){return new i.NextResponse(null,{status:200,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, PATCH, OPTIONS","Access-Control-Allow-Headers":"Content-Type, Authorization, Accept, X-Requested-With","Access-Control-Max-Age":"86400"}})}!function(){var e=Error("Cannot find module '@/lib/fhir/fhir.service'");throw e.code="MODULE_NOT_FOUND",e}();let u=new o.AppRouteRouteModule({definition:{kind:a.RouteKind.APP_ROUTE,page:"/api/fhir/r4/route",pathname:"/api/fhir/r4",filename:"route",bundlePath:"app/api/fhir/r4/route"},resolvedPagePath:"/workspace/Hospital-Management-System/src/app/api/fhir/r4/route.ts",nextConfigOutput:"",userland:n}),{workAsyncStorage:y,workUnitAsyncStorage:l,serverHooks:h}=u;function m(){return(0,s.patchFetch)({workAsyncStorage:y,workUnitAsyncStorage:l})}},73327:()=>{}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[7395,6088],()=>r(66640));module.exports=n})();