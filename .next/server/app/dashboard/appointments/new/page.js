(()=>{var e={};e.id=609,e.ids=[609],e.modules={140:(e,t,n)=>{Promise.resolve().then(n.bind(n,85937))},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},23156:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,50760,23)),Promise.resolve().then(n.t.bind(n,46142,23)),Promise.resolve().then(n.t.bind(n,58366,23)),Promise.resolve().then(n.t.bind(n,12009,23)),Promise.resolve().then(n.t.bind(n,22477,23)),Promise.resolve().then(n.t.bind(n,41269,23)),Promise.resolve().then(n.t.bind(n,90685,23)),Promise.resolve().then(n.t.bind(n,10767,23))},25364:(e,t,n)=>{Promise.resolve().then(n.t.bind(n,45414,23)),Promise.resolve().then(n.t.bind(n,25976,23)),Promise.resolve().then(n.t.bind(n,33852,23)),Promise.resolve().then(n.t.bind(n,97991,23)),Promise.resolve().then(n.t.bind(n,98527,23)),Promise.resolve().then(n.t.bind(n,32327,23)),Promise.resolve().then(n.t.bind(n,12023,23)),Promise.resolve().then(n.t.bind(n,91113,23))},28346:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>a.a,__next_app__:()=>m,pages:()=>l,routeModule:()=>p,tree:()=>c});var o=n(25267),r=n(20540),i=n(58366),a=n.n(i),s=n(65129),d={};for(let e in s)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>s[e]);n.d(t,d);let c={children:["",{children:["dashboard",{children:["appointments",{children:["new",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,85937)),"/workspace/Hospital-Management-System/src/app/dashboard/appointments/new/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(n.bind(n,68568)),"/workspace/Hospital-Management-System/src/app/dashboard/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,82448))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(n.t.bind(n,90159,23)),"/workspace/Hospital-Management-System/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(n.t.bind(n,61002,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(n.t.bind(n,7659,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(n.t.bind(n,58832,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,82448))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,l=["/workspace/Hospital-Management-System/src/app/dashboard/appointments/new/page.tsx"],m={require:n,loadChunk:()=>Promise.resolve()},p=new o.AppPageRouteModule({definition:{kind:r.RouteKind.APP_PAGE,page:"/dashboard/appointments/new/page",pathname:"/dashboard/appointments/new",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33159:()=>{},33873:e=>{"use strict";e.exports=require("path")},62511:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c,dynamic:()=>s});var o=n(70435),r=n(80790),i=n(48841);!function(){var e=Error("Cannot find module '@/components/layout/DashboardLayout'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/textarea'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/hooks/use-toast'");throw e.code="MODULE_NOT_FOUND",e}();var a=n(52980);!function(){var e=Error("Cannot find module '__barrel_optimize__?names=format!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e}();let s="force-dynamic",d=a.z.object({patient_id:a.z.string().min(1,"Patient selection is required"),doctor_id:a.z.string().min(1,"Doctor selection is required"),appointment_date:a.z.string().min(1,"Date is required"),appointment_time:a.z.string().regex(/^([01]\d|2[0-3]):([0-5]\d)$/,"Time must be in HH:MM format"),duration_minutes:a.z.number().int().positive().optional().default(15),reason:a.z.string().optional()});function c(){let e=(0,i.useRouter)(),{toast:t}=Object(function(){var e=Error("Cannot find module '@/hooks/use-toast'");throw e.code="MODULE_NOT_FOUND",e}())(),[n,s]=(0,r.useState)({appointment_date:Object(function(){var e=Error("Cannot find module '__barrel_optimize__?names=format!=!date-fns'");throw e.code="MODULE_NOT_FOUND",e}())(new Date,"yyyy-MM-dd"),appointment_time:"09:00"}),[c,l]=(0,r.useState)([]),[m,p]=(0,r.useState)([]),[u,h]=(0,r.useState)(!1),[f,_]=(0,r.useState)(!0),[O,b]=(0,r.useState)([]),x=e=>{let{name:t,value:n}=e.target;s(e=>({...e,[t]:n}))},v=(e,t)=>{s(n=>({...n,[e]:t}))},N=async o=>{o.preventDefault(),h(!0),b([]);let r=d.safeParse(n);if(!r.success){b(r.error.errors),h(!1),t({title:"Validation Error",description:"Please check the form for errors.",variant:"destructive"});return}let i=`${r.data.appointment_date}T${r.data.appointment_time}:00`,s={patient_id:parseInt(r.data.patient_id,10),doctor_id:parseInt(r.data.doctor_id,10),appointment_datetime:i,duration_minutes:r.data.duration_minutes,reason:r.data.reason};try{let n=await fetch("/api/appointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),o=await n.json();if(!n.ok)throw Error(o.error||"Failed to book appointment");t({title:"Appointment Booked",description:"Appointment scheduled successfully."}),e.push("/dashboard/appointments")}catch(n){let e=n instanceof Error?n.message:"An unexpected error occurred.";b([{code:a.z.ZodIssueCode.custom,path:["form"],message:e}]),t({title:"Booking Failed",description:e,variant:"destructive"})}finally{h(!1)}},E=e=>O.find(t=>t.path[0]===e)?.message;return(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/layout/DashboardLayout'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,o.jsxs)("div",{className:"flex flex-col gap-6 max-w-2xl mx-auto",children:[(0,o.jsx)("h1",{className:"text-2xl font-semibold",children:"Book New Appointment"}),f?(0,o.jsx)("p",{children:"Loading patient and doctor data..."}):(0,o.jsxs)("form",{onSubmit:N,children:[(0,o.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:"Appointment Details"})}),(0,o.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"patient_id",children:"Patient *"}),(0,o.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{name:"patient_id",onValueChange:e=>v("patient_id",e),required:!0,disabled:u,children:[(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"patient_id",children:(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{placeholder:"Select patient"})}),(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{children:c.map(e=>(0,o.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{value:String(e.patient_id),children:[e.first_name," ",e.last_name," (ID: ",e.patient_id,")"]},e.patient_id))})]}),E("patient_id")&&(0,o.jsx)("p",{className:"text-sm text-red-500 mt-1",children:E("patient_id")})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"doctor_id",children:"Doctor *"}),(0,o.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{name:"doctor_id",onValueChange:e=>v("doctor_id",e),required:!0,disabled:u,children:[(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"doctor_id",children:(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{placeholder:"Select doctor"})}),(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{children:m.map(e=>(0,o.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{value:String(e.doctor_id),children:[e.user?.fullName," (",e.specialty,")"]},e.doctor_id))})]}),E("doctor_id")&&(0,o.jsx)("p",{className:"text-sm text-red-500 mt-1",children:E("doctor_id")})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"appointment_date",children:"Date *"}),(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"appointment_date",name:"appointment_date",type:"date",value:n.appointment_date||"",onChange:x,required:!0,disabled:u}),E("appointment_date")&&(0,o.jsx)("p",{className:"text-sm text-red-500 mt-1",children:E("appointment_date")})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"appointment_time",children:"Time *"}),(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"appointment_time",name:"appointment_time",type:"time",value:n.appointment_time||"",onChange:x,required:!0,disabled:u}),E("appointment_time")&&(0,o.jsx)("p",{className:"text-sm text-red-500 mt-1",children:E("appointment_time")})]}),(0,o.jsxs)("div",{className:"md:col-span-2",children:[(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"reason",children:"Reason for Visit"}),(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/textarea'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"reason",name:"reason",value:n.reason||"",onChange:x,disabled:u}),E("reason")&&(0,o.jsx)("p",{className:"text-sm text-red-500 mt-1",children:E("reason")})]})]})]}),E("form")&&(0,o.jsx)("p",{className:"text-sm text-red-500 mt-4",children:E("form")}),(0,o.jsxs)("div",{className:"mt-6 flex justify-end gap-4",children:[(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{type:"button",variant:"outline",onClick:()=>e.back(),disabled:u,children:"Cancel;"}),(0,o.jsx)(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{type:"submit",disabled:u||f,children:u?"Booking...":"Book Appointment"})]})]})]})})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63692:(e,t,n)=>{Promise.resolve().then(n.bind(n,62511))},68568:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n(99241);function r({children:e}){return(0,o.jsx)(Object(function(){var e=Error("Cannot find module './dashboard-client-layout.ts'");throw e.code="MODULE_NOT_FOUND",e}()),{children:e})}n(39852),!function(){var e=Error("Cannot find module './dashboard-client-layout.ts'");throw e.code="MODULE_NOT_FOUND",e}()},73327:()=>{},79551:e=>{"use strict";e.exports=require("url")},82448:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});var o=n(56566);let r=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,o.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},85937:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>i,dynamic:()=>r});var o=n(33151);let r=(0,o.registerClientReference)(function(){throw Error("Attempted to call dynamic() from the server but dynamic is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspace/Hospital-Management-System/src/app/dashboard/appointments/new/page.tsx","dynamic"),i=(0,o.registerClientReference)(function(){throw Error("Attempted to call the default export of \"/workspace/Hospital-Management-System/src/app/dashboard/appointments/new/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/workspace/Hospital-Management-System/src/app/dashboard/appointments/new/page.tsx","default")},90159:()=>{throw Error('Module build failed (from ../../home/minimax/.npm/_npx/8b377f6eec906bc4/node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError:   \x1b[31mx\x1b[0m Unexpected token `html`. Expected jsx identifier\n    ,-[\x1b[36;1;4m/workspace/Hospital-Management-System/src/app/layout.tsx\x1b[0m:30:1]\n \x1b[2m27\x1b[0m | }>) {\n \x1b[2m28\x1b[0m |   return (\n \x1b[2m29\x1b[0m |     // Keep lang="en" and dark class from origin/master;\n \x1b[2m30\x1b[0m |     <html lang="en" className="dark" suppressHydrationWarning>\n    : \x1b[35;1m     ^^^^\x1b[0m\n \x1b[2m31\x1b[0m |       {/* Use Geist fonts and antialiased from origin/master */}\n \x1b[2m32\x1b[0m |       <body className={`${geistSans.variable} ${geistMono.variable} antialiased`}>\n \x1b[2m33\x1b[0m |         {/* Wrap children with ThemeProvider */}\n    `----\n\n\nCaused by:\n    Syntax Error')}};var t=require("../../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),o=t.X(0,[7395,8105,6566,4684],()=>n(28346));module.exports=o})();